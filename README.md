# –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ ¬´–°–±–µ—Ä–ê–≤—Ç–æ–ø–æ–¥–ø–∏—Å–∫–∞¬ª

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ REST-API –¥–ª—è –æ–Ω–ª–∞–π–Ω-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏, –∑–∞–∫–∞–∑ –∑–≤–æ–Ω–∫–∞ –∏ –¥—Ä.) –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å–µ—Å—Å–∏–∏ –∏ —Ö–∏—Ç–æ–≤ Google Analytics.

---
MIFIHackatonSberAutoSubscriptionAnalysis/
## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash

MIFIHackatonSberAutoSubscriptionAnalysis/
‚îú‚îÄ‚îÄ data
‚îÇ   ‚îú‚îÄ‚îÄ model_data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catboost_optuna_m1.cbm    # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∏–Ω–∞—Ä–Ω–∞—è –º–æ–¥–µ–ª—å Catboost
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ catboost_optuna_m1.json   # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ LICENSE                           # –õ–∏—Ü–µ–Ω–∑–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (MIT)
‚îú‚îÄ‚îÄ notebooks                         # Jupyter-–Ω–æ—É—Ç–±—É–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ data_preprocessing
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_preprocessing.ipynb  # –ù–æ—É—Ç–±—É–∫: —á—Ç–µ–Ω–∏–µ raw_data ‚Üí –æ—á–∏—Å—Ç–∫–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ processed_data.pkl
‚îÇ   ‚îú‚îÄ‚îÄ EDA
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ eda.ipynb                 # –ù–æ—É—Ç–±—É–∫: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ modeling
‚îÇ       ‚îú‚îÄ‚îÄ catboost_info/            # –ü–æ–¥–ø–∞–ø–∫–∞ —Å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏ (–≥—Ä–∞—Ñ–∏–∫–∏, –ª–æ–≥–∏ Optuna)
‚îÇ       ‚îú‚îÄ‚îÄ catboost.ipynb            # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å CatBoost + Optuna-—Ç—é–Ω–∏–Ω–≥ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ model_data_json.ipynb     # –ß–µ—Ä–Ω–æ–≤–æ–π –±–ª–æ–∫–Ω–æ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ README.md                         # –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞: —Ü–µ–ª–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ requirements.txt                  # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö pip-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ src                               # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ app
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py                    # FastAPI-—Å–µ—Ä–≤–∏—Å

````

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
git clone https://github.com/your-org/MIFIHackatonSberAutoSubscriptionAnalysis.git
cd MIFIHackatonSberAutoSubscriptionAnalysis
pip install -r requirements.txt
````

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–∏

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ø–∞–ø–∫–µ `data/model_data/` –ª–µ–∂–∏—Ç —Ñ–∞–π–ª `catboost_optuna_m1.cbm`.
2. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –≤ `data/processed_data/data_processed.pkl`, –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏.

### 3. –ó–∞–ø—É—Å–∫ API

```bash
uvicorn src.app.app:app --host 0.0.0.0 --port 8000
```

* **GET** `/health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
* **POST** `/predict` ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

---

## üì¶ REST-API

### –ó–∞–ø—Ä–æ—Å `/health`

* **–ú–µ—Ç–æ–¥:** GET
* **–û—Ç–≤–µ—Ç:**

  ```json
  { "status": "ok" }
  ```

### –ó–∞–ø—Ä–æ—Å `/predict`

* **–ú–µ—Ç–æ–¥:** POST
* **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

  ```json
  {
  "data": [
    {
      "session_id": "5692861315757623740.1632356796.1632356796",
      "client_id": "2108382700.1637753791",
      "visit_hour": 14,
      "visit_weekday": 2,
      "is_weekend": 0,
      "visit_number": 1,
      "utm_source": "ZpYIoDJMcFzVoPFsHGJL",
      "utm_medium": "banner",
      "utm_campaign": "LEoPHuyFvzoNfnzGgfcd",
      "utm_adcontent": "vCIpmpaGBnIQhyYNkXqp",
      "utm_keyword": "puhZPIYqKXeFPaUviSjo",
      "device_category": "mobile",
      "device_os": "Android",
      "device_brand": "Huawei",
      "device_screen_height": 720,
      "device_screen_width": 360,
      "device_browser": "Chrome",
      "geo_country": "russia",
      "geo_city": "other_russia_city",
      "hit_number": 3,
      "aspect_ratio": 0.5,
      "n_hits": 4,
      "n_target_hits": 1,
      "n_unique_pages": 1,
      "visit_day": 24,
      "visit_month": 11,
      "visit_year": 2021,
      "hit_sec": 3.665,
      "session_total_sec": 42.927
    }
  ]
  }
  ```
* **–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

  ```json
  {
  "session_id": [
    "5692861315757623740.1632356796.1632356796"
  ],
  "client_id": [
    "2108382700.1637753791"
  ],
  "probability": [
    0.053040131394803576
  ]
  }
  ```

---

## üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã

| –†–æ–ª—å              | –£—á–∞—Å—Ç–Ω–∏–∫       | –ö–æ–Ω—Ç–∞–∫—Ç—ã             |
| ----------------- | -------------- | -------------------- |
| Data Engineer     | –ê–Ω–∞—Å—Ç–∞—Å–∏—è –ò–≤–∞–Ω–æ–≤–∞ | @ivnnasti |
| Data Analyst      | –î–º–∏—Ç—Ä–∏–π –ì–æ–Ω—á–∞—Ä–æ–≤ | @coach_goncharov |
| ML Engineer       | –ò–≥–Ω–∞—Ç –®–µ–º–µ—Ç–æ–≤ | @Ganyageg |
| Backend Developer | –î–º–∏—Ç—Ä–∏–π –ë—Ä–∞–≥–∏–Ω | @DmitiyBragin |
| Project Manager   | –ê–ª–µ–∫—Å–µ–π –°—É—â–∏—Ö | @listaloe |

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* Python 3.8+
* FastAPI, Uvicorn
* Pandas
* CatBoost

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE).